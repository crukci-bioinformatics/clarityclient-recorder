<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/apt/spring.apt at 2021-03-10

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>CRUK-CI Genologics API Client Recorder &#x2013; </title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">CRUK-CI Genologics API Recorder
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2021-03-10</span>
          &#xA0;| <span id="projectVersion">Version: 2.27.3</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>User Guide</h5>
    <ul>
     <li class="none"><a href="installing.html" title="Installation">Installation</a></li>
     <li class="expanded"><a href="usageoverview.html" title="Usage">Usage</a>
      <ul>
       <li class="none"><strong>Spring Configuration</strong></li>
       <li class="none"><a href="usage.html" title="Configuration in Code">Configuration in Code</a></li>
      </ul></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="Spring_Configuration"></a>Spring Configuration</h2>
<p>The main Spring configuration file for the Clarity client is:</p>
<div class="source">
<pre>/org/cruk/genologics/api/genologics-client-context.xml</pre></div>
<p>You will need to add one of the wrappers to your application context path to activate the wrapper. For recording messages from a server, also include:</p>
<div class="source">
<pre>/org/cruk/genologics/api/genologics-record-context.xml</pre></div>
<p>To use prerecorded messages, include:</p>
<div class="source">
<pre>/org/cruk/genologics/api/genologics-playback-context.xml</pre></div>
<p>Add the appropriate file to your Spring application context path. If you wish to use the caching feature too, you'll also need to add:</p>
<div class="source">
<pre>/org/cruk/genologics/api/genologics-cache-context.xml</pre></div>
<p><code>genologics-client-context.xml</code> and <code>genologics-cache-context.xml</code> are provided in the main client's JAR file. <code>genologics-record-context.xml</code> and <code>genologics-playback-context.xml</code> are provides in the recorder's JAR file.</p>
<p>An example of using the recording wrapper with the API using Spring from an application's <i>main</i> method:</p>
<div class="source">
<pre>ApplicationContext appContext =
    new ClassPathXmlApplicationContext(
        &quot;/org/cruk/genologics/api/genologics-client-context.xml&quot;,
        &quot;/org/cruk/genologics/api/genologics-record-context.xml&quot;);

GenologicsAPI api = appContext.getBean(&quot;genologicsAPI&quot;, GenologicsAPI.class);</pre></div>
<p>Of course, if you're using Spring properly you'll be using dependency injection to insert the API into the classes that need it. The recording and playback wrappers are aspects around the internals of the API, and do not need additional wiring. One may want to programmatically set their messages directory and, in the case of the playback wrapper, its updates directory. See the page <a href="./usage.html">Setting up the Record and Playback Wrappers</a> for details.</p></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2013&#x2013;2021<a href="https://www.cruk.cam.ac.uk/">Cancer Research UK Cambridge Institute</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
